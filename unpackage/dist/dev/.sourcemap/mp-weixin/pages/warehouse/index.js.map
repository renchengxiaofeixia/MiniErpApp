{"version":3,"sources":["uni-app:///main.js","webpack:///G:/src/MiniErpApp/pages/warehouse/index.vue?9667","webpack:///G:/src/MiniErpApp/pages/warehouse/index.vue?91e6","webpack:///G:/src/MiniErpApp/pages/warehouse/index.vue?85a6","webpack:///G:/src/MiniErpApp/pages/warehouse/index.vue?5734","uni-app:///pages/warehouse/index.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/warehouse/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/warehouse/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=0e1a401d&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/warehouse/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=0e1a401d&\"","var components\ntry {\n  components = {\n    uniDatetimePicker: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker\" */ \"@/uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\">\r\n\t\t<headerTab :scrollTab=\"scrollTab\" @tabKey=\"change\" :tab=\"warehouse.id\"></headerTab>\r\n\t\t<searchbox @filter=\"showDrawer()\" @confirm=\"confirm\" :placeholder=\"warehouse.placeholder\"></searchbox>\r\n\r\n\r\n\t\t<view v-if=\"warehouse.id == 0\">\r\n\t\t\t<dataGrid url=\"pages/details/storage\" :list=\"storageList\" tab=\"6\" @drop=\"dropStorage\" @amend=\"amendStorage\">\r\n\t\t\t</dataGrid>\r\n\t\t</view>\r\n\t\t<!-- <view v-if=\"warehouse.id == 1\">\r\n\t\t\t<dataGrid url=\"pages/details/delivery\">\r\n\t\t\t</dataGrid>\r\n\t\t</view> -->\r\n\t\t<view v-if=\"warehouse.id == 1\">\r\n\t\t\t<dataGrid url=\"pages/details/inventory\" :list=\"inventoryList\" tab=\"8\" @drop=\"dropInventory\"\r\n\t\t\t\t@amend=\"amendInventory\">\r\n\t\t\t</dataGrid>\r\n\t\t</view>\r\n\t\t<view v-if=\"warehouse.id == 2\">\r\n\t\t\t<dataGrid url=\"pages/details/allocate\" :list=\"transferList\"></dataGrid>\r\n\t\t</view>\r\n\r\n\r\n\t\t<filtratePopup ref=\"show\">\r\n\t\t\t<view>\r\n\t\t\t\t<!-- <view class=\"table\" style=\"padding: 0;\">\r\n\t\t\t\t\t<pulldown headline=\"库存状况\">\r\n\t\t\t\t\t\t<stateBar\r\n\t\t\t\t\t\t\t:list=\"[{monicker: '全部',id: 1}, {monicker: '正常',id: 2}, {monicker: '负库存',id: 3}, {monicker: '超出上限',id: 4}, {monicker: '超出下限',id: 5}]\">\r\n\t\t\t\t\t\t</stateBar>\r\n\t\t\t\t\t</pulldown>\r\n\t\t\t\t</view> -->\r\n\r\n\t\t\t\t<view class=\"table\" style=\"padding: 0;\">\r\n\t\t\t\t\t<view class=\"contact-date\">\r\n\t\t\t\t\t\t下次联系日期\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<uni-datetime-picker v-model=\"range\" type=\"daterange\" @maskClick=\"maskClick\" :clear-icon=\"false\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"table\" style=\"padding: 0;\">\r\n\t\t\t\t\t<pulldown headline=\"展示状态\">\r\n\t\t\t\t\t\t<stateBar :list=\"[{monicker: '全部',id: 1}, {monicker: '显示',id: 2}, {monicker: '隐藏',id: 3}]\">\r\n\t\t\t\t\t\t</stateBar>\r\n\t\t\t\t\t</pulldown>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</filtratePopup>\r\n\t\t<addOrder :url=\"warehouse.url\"></addOrder>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tlet {\r\n\t\t$getStorage,\r\n\t\t$delStorage\r\n\t} = require('@/api/storage.js'); //采购\r\n\r\n\tlet {\r\n\t\t$getCheck,\r\n\t\t$delCheck\r\n\t} = require('@/api/inventory.js'); //盘点\r\n\r\n\tlet {\r\n\t\t$getTransfer\r\n\t} = require('@/api/transfer.js'); //调拨\r\n\timport headerTab from '@/components/headerTab/index.vue';\r\n\timport searchbox from '@/components/searchbox/index.vue';\r\n\timport dataGrid from '@/components/dataGrid/index.vue';\r\n\timport addOrder from '@/components/addOrder.vue';\r\n\r\n\timport filtratePopup from '@/components/filtratePopup/index.vue';\r\n\timport stateBar from \"@/components/stateBar.vue\"\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\theaderTab,\r\n\t\t\tsearchbox,\r\n\t\t\tdataGrid,\r\n\t\t\taddOrder,\r\n\t\t\tfiltratePopup,\r\n\t\t\tstateBar,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tscrollTab: [{\r\n\t\t\t\t\t\ttext: '入库',\r\n\t\t\t\t\t\turl: 'pages/plusForm/addStorage',\r\n\t\t\t\t\t\tid: 0,\r\n\t\t\t\t\t\topen: true,\r\n\t\t\t\t\t\tplaceholder: \"入库方/入库单号/物品名称\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// {\r\n\t\t\t\t\t// \ttext: '出库',\r\n\t\t\t\t\t// \turl: 'pages/plusForm/adddElivery',\r\n\t\t\t\t\t// \tid: 1,\r\n\t\t\t\t\t// \topen: true,\r\n\t\t\t\t\t// \tplaceholder: \"出库对象/出库单号/物品名称\"\r\n\t\t\t\t\t// }, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: '盘点',\r\n\t\t\t\t\t\turl: 'pages/plusForm/addInventory',\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\topen: true,\r\n\t\t\t\t\t\tplaceholder: \"盘点单号/物品编号/物品名称\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttext: '调拨',\r\n\t\t\t\t\t\turl: 'pages/plusForm/addAllot',\r\n\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\topen: true,\r\n\t\t\t\t\t\tplaceholder: \"调拨单号/物品编号/物品名称\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\twarehouse: {\r\n\t\t\t\t\ttext: '入库',\r\n\t\t\t\t\turl: 'pages/plusForm/addStorage',\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\topen: true,\r\n\t\t\t\t\tplaceholder: \"入库方/入库单号/物品名称\"\r\n\r\n\t\t\t\t},\r\n\t\t\t\tstorageList: [], //入库\r\n\t\t\t\tstoragePage: 1, //页数\r\n\t\t\t\tstorageSize: 14, //页数量\r\n\t\t\t\tstorageNext: true, //是否也下页\r\n\t\t\t\tstorageStatus: 'more', //加载中\r\n\r\n\t\t\t\tinventoryList: [], //盘点\r\n\t\t\t\tinventoryPage: 1, //页数\r\n\t\t\t\tinventorySize: 14, //页数量\r\n\t\t\t\tinventoryNext: true, //是否也下页\r\n\t\t\t\tinventoryStatus: 'more', //加载中\r\n\r\n\t\t\t\ttransferList: [], //调拨\r\n\t\t\t\ttransferPage: 1, //页数\r\n\t\t\t\ttransferSize: 14, //页数量\r\n\t\t\t\ttransferNext: true, //是否也下页\r\n\t\t\t\ttransferStatus: 'more', //加载中\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.warehouse.open = true;\r\n\t\t\tthis.getData(this.warehouse.id)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 入库数据\r\n\t\t\tasync storageData(sky) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tpage: _this.storagePage,\r\n\t\t\t\t\tsize: _this.storageSize,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlet res = await $getStorage(data);\r\n\t\t\t\tif (!res) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (sky) {\r\n\t\t\t\t\t_this.storageList = [];\r\n\t\t\t\t}\r\n\t\t\t\tlet list = [];\r\n\t\t\t\tres.data.data.forEach(e => {\r\n\t\t\t\t\tlist.push({\r\n\t\t\t\t\t\tid: e.id,\r\n\t\t\t\t\t\tname: e.supplierName,\r\n\t\t\t\t\t\tNo: e.purchaseNo,\r\n\t\t\t\t\t\tcount: e.prodNos,\r\n\t\t\t\t\t\tprice: e.aggregateAmount.toString()\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t_this.storageList.push(...list);\r\n\r\n\t\t\t},\r\n\t\t\t// 盘点数据\r\n\t\t\tasync inventoryData(sky) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tpage: _this.inventoryPage,\r\n\t\t\t\t\tsize: _this.inventorySize,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlet res = await $getCheck(data);\r\n\t\t\t\tif (!res) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (sky) {\r\n\t\t\t\t\t_this.inventoryList = [];\r\n\t\t\t\t}\r\n\t\t\t\tlet list = [];\r\n\t\t\t\tres.data.data.forEach(e => {\r\n\t\t\t\t\tlist.push({\r\n\t\t\t\t\t\tid: e.id,\r\n\t\t\t\t\t\tname: e.contacterName,\r\n\t\t\t\t\t\tNo: e.checkNo,\r\n\t\t\t\t\t\tcount: e.prodNos\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t_this.inventoryList.push(...list);\r\n\r\n\t\t\t},\r\n\t\t\t// 调拨数据\r\n\t\t\tasync transferData(sky) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tpage: _this.transferPage,\r\n\t\t\t\t\tsize: _this.transferSize,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlet res = await $getTransfer(data);\r\n\t\t\t\tif (!res) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (sky) {\r\n\t\t\t\t\t_this.transferList = [];\r\n\t\t\t\t}\r\n\t\t\t\tlet list = [];\r\n\t\t\t\tres.data.data.forEach(e => {\r\n\t\t\t\t\tlist.push({\r\n\t\t\t\t\t\tid: e.id,\r\n\t\t\t\t\t\tinWarehouseName: e.inWarehouseName,\r\n\t\t\t\t\t\toutWarehouseName: e.outWarehouseName,\r\n\t\t\t\t\t\tNo: e.transferNo,\r\n\t\t\t\t\t\tcount: e.prodNos\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t_this.transferList.push(...list);\r\n\t\t\t},\r\n\t\t\tgetData(index) {\r\n\t\t\t\tif (this.warehouse.id == 0 && this.warehouse.open) {\r\n\t\t\t\t\tthis.storageData(true);\r\n\t\t\t\t} else if (this.warehouse.id == 1 && this.warehouse.open) {\r\n\t\t\t\t\tthis.inventoryData(true);\r\n\t\t\t\t} else if (this.warehouse.id == 2 && this.warehouse.open) {\r\n\t\t\t\t\tthis.transferData(true)\r\n\r\n\t\t\t\t}\r\n\t\t\t\tthis.scrollTab[index].open = false;\r\n\t\t\t\tthis.warehouse.open = false;\r\n\t\t\t},\r\n\t\t\t// 删除入库\r\n\t\t\tdropStorage(id, index) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\t_this.$api.showModal('你要确定要删除该盘点吗?').then(() => {\r\n\t\t\t\t\t$delStorage(id).then(res => {\r\n\t\t\t\t\t\t_this.$api.msg('删除成功！');\r\n\t\t\t\t\t\t_this.storageList.splice(index, 1);\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 新建入库\r\n\t\t\tamendStorage(id) {\r\n\t\t\t\tthis.$navto.navto('pages/plusForm/addStorage', {\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\theader: '修改入库单',\r\n\t\t\t\t\ttype: 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//入库下拉加载\r\n\t\t\tstorageTolower() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tif (_this.storageNext) {\r\n\t\t\t\t\t_this.storageStatus = 'loading';\r\n\t\t\t\t\t_this.storagePage = 2;\r\n\t\t\t\t\t_this.storageData();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t_this.storageStatus = 'noMore';\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 删除盘点\r\n\t\t\tdropInventory(id, index) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\t_this.$api.showModal('你要确定要删除该盘点吗?').then(() => {\r\n\t\t\t\t\t$delCheck(id).then(res => {\r\n\t\t\t\t\t\t_this.$api.msg('删除成功！');\r\n\t\t\t\t\t\t_this.inventoryList.splice(index, 1);\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 新建盘点\r\n\t\t\tamendInventory(id) {\r\n\t\t\t\tthis.$navto.navto('pages/plusForm/addInventory', {\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\theader: '修改盘点单',\r\n\t\t\t\t\ttype: 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//盘点下拉加载\r\n\t\t\tinventoryTolower() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tif (_this.inventoryNext) {\r\n\t\t\t\t\t_this.inventoryStatus = 'loading';\r\n\t\t\t\t\t_this.inventoryPage = 2;\r\n\t\t\t\t\t_this.inventoryData();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t_this.inventoryStatus = 'noMore';\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//搜索\r\n\t\t\tconfirm(val) {\r\n\t\t\t\tconsole.log(val);\r\n\t\t\t},\r\n\t\t\tchange(item) {\r\n\t\t\t\tthis.warehouse = item;\r\n\t\t\t\tthis.getData(item.id);\r\n\t\t\t},\r\n\t\t\tshowDrawer() {\r\n\t\t\t\tthis.$refs.show.showDrawer()\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\r\n"],"sourceRoot":""}